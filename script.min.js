let skills=[{name:"figma",weight:.1,has:!1},{name:"wireframing",weight:.06,has:!1},{name:"prototyping",weight:.08,has:!1},{name:"usability_testing",weight:.08,has:!1},{name:"heuristic_evaluation",weight:.05,has:!1},{name:"user_interviews",weight:.07,has:!1},{name:"accessibility",weight:.06,has:!1},{name:"html_css",weight:.05,has:!1},{name:"javascript",weight:.04,has:!1},{name:"python",weight:.04,has:!1},{name:"sql",weight:.03,has:!1},{name:"ab_testing",weight:.04,has:!1},{name:"data_visualization",weight:.03,has:!1}],totalWeight=skills.reduce(((e,a)=>e+a.weight),0),totalSkills=skills.length,skillsContainer=document.getElementById("skills"),computeButton=document.getElementById("compute"),rawPctEl=document.getElementById("rawPct"),weightedPctEl=document.getElementById("wPct"),missingListEl=document.getElementById("missingList"),chartCanvas=document.getElementById("chart"),chart=new Chart(chartCanvas,{type:"doughnut",data:{labels:["Covered","Uncovered"],datasets:[{data:[0,totalWeight]}]},options:{animation:!1,plugins:{legend:{labels:{color:"#e5e7eb"}}}}});function renderSkills(){let e="";skills.forEach(((a,t)=>{const i=`skill_${t}`;e+=`<label for="${i}"><input id="${i}" name="skills" type="checkbox" data-idx="${t}"/> ${a.name.replaceAll("_"," ")} (${a.weight})</label>`})),skillsContainer.innerHTML=e}skillsContainer.addEventListener("change",(e=>{const a=e.target;if(a&&a.matches('input[type="checkbox"]')){const e=Number(a.dataset.idx);Number.isNaN(e)||(skills[e].has=a.checked)}}));function compute(){let e=0,a=0;for(const t of skills)t.has&&(e++,a+=t.weight);const t=e/totalSkills,i=a/totalWeight;rawPctEl.innerText=(100*t).toFixed(1)+"%",weightedPctEl.innerText=(100*i).toFixed(1)+"%";const s=totalWeight-a;chart.data.datasets[0].data=[a,s],chart.update("none");const n=skills.filter((e=>!e.has)).sort(((e,a)=>a.weight-e.weight)).slice(0,5);missingListEl.innerText="Top missing: "+n.map((e=>e.name.replaceAll("_"," "))).join(", ")}computeButton.onclick=compute,renderSkills();
